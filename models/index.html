
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../fields/">
      
      
        <link rel="next" href="../signals/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.43">
    
    
      
        <title>Models - Django Util</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#models" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Django Util" class="md-header__button md-logo" aria-label="Django Util" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Django Util
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Models
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Django Util" class="md-nav__button md-logo" aria-label="Django Util" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Django Util
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Admin
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../choices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choices
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../constants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constants
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fields
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Models
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#django_util.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Base" class="md-nav__link">
    <span class="md-ellipsis">
      Base
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.BasePublicContribute" class="md-nav__link">
    <span class="md-ellipsis">
      BasePublicContribute
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.CardPayment" class="md-nav__link">
    <span class="md-ellipsis">
      CardPayment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Coupon" class="md-nav__link">
    <span class="md-ellipsis">
      Coupon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress" class="md-nav__link">
    <span class="md-ellipsis">
      DataExtractProgress
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataExtractProgress">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.get_progress_percentage" class="md-nav__link">
    <span class="md-ellipsis">
      get_progress_percentage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.log_request" class="md-nav__link">
    <span class="md-ellipsis">
      log_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.mark_as_completed" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_completed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.mark_as_failed" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_failed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.mark_as_started" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_started
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.update_progress" class="md-nav__link">
    <span class="md-ellipsis">
      update_progress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress" class="md-nav__link">
    <span class="md-ellipsis">
      DataImportProgress
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataImportProgress">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.get_progress_percentage" class="md-nav__link">
    <span class="md-ellipsis">
      get_progress_percentage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.log_error" class="md-nav__link">
    <span class="md-ellipsis">
      log_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.log_step" class="md-nav__link">
    <span class="md-ellipsis">
      log_step
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.mark_as_completed" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_completed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.mark_as_failed" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_failed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.mark_as_started" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_started
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.update_progress" class="md-nav__link">
    <span class="md-ellipsis">
      update_progress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.EmailHttpRequest" class="md-nav__link">
    <span class="md-ellipsis">
      EmailHttpRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.FullCalendarEventParseV6" class="md-nav__link">
    <span class="md-ellipsis">
      FullCalendarEventParseV6
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.PaymentMethod" class="md-nav__link">
    <span class="md-ellipsis">
      PaymentMethod
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Person" class="md-nav__link">
    <span class="md-ellipsis">
      Person
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Plan" class="md-nav__link">
    <span class="md-ellipsis">
      Plan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.PlanPlus" class="md-nav__link">
    <span class="md-ellipsis">
      PlanPlus
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Profile" class="md-nav__link">
    <span class="md-ellipsis">
      Profile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Subscription
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.TransactionEvent" class="md-nav__link">
    <span class="md-ellipsis">
      TransactionEvent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.WiseWebhook" class="md-nav__link">
    <span class="md-ellipsis">
      WiseWebhook
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relation" class="md-nav__link">
    <span class="md-ellipsis">
      Relation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payment-vs-transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Payment vs Transaction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactionstate-vs-transaction_eventchoice_type" class="md-nav__link">
    <span class="md-ellipsis">
      transaction.state vs transaction_event.choice_type
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactionamount-vs-planprice-vs-subscriptionprorated_amount-vs-coupondiscount_value" class="md-nav__link">
    <span class="md-ellipsis">
      transaction.amount vs plan.price vs subscription.prorated_amount vs coupon.discount_value
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../signals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Signals
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../utility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utility
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../validators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validators
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#django_util.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Base" class="md-nav__link">
    <span class="md-ellipsis">
      Base
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.BasePublicContribute" class="md-nav__link">
    <span class="md-ellipsis">
      BasePublicContribute
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.CardPayment" class="md-nav__link">
    <span class="md-ellipsis">
      CardPayment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Coupon" class="md-nav__link">
    <span class="md-ellipsis">
      Coupon
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress" class="md-nav__link">
    <span class="md-ellipsis">
      DataExtractProgress
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataExtractProgress">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.get_progress_percentage" class="md-nav__link">
    <span class="md-ellipsis">
      get_progress_percentage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.log_request" class="md-nav__link">
    <span class="md-ellipsis">
      log_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.mark_as_completed" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_completed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.mark_as_failed" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_failed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.mark_as_started" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_started
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataExtractProgress.update_progress" class="md-nav__link">
    <span class="md-ellipsis">
      update_progress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress" class="md-nav__link">
    <span class="md-ellipsis">
      DataImportProgress
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataImportProgress">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.get_progress_percentage" class="md-nav__link">
    <span class="md-ellipsis">
      get_progress_percentage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.log_error" class="md-nav__link">
    <span class="md-ellipsis">
      log_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.log_step" class="md-nav__link">
    <span class="md-ellipsis">
      log_step
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.mark_as_completed" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_completed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.mark_as_failed" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_failed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.mark_as_started" class="md-nav__link">
    <span class="md-ellipsis">
      mark_as_started
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django_util.models.DataImportProgress.update_progress" class="md-nav__link">
    <span class="md-ellipsis">
      update_progress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.EmailHttpRequest" class="md-nav__link">
    <span class="md-ellipsis">
      EmailHttpRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.FullCalendarEventParseV6" class="md-nav__link">
    <span class="md-ellipsis">
      FullCalendarEventParseV6
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.PaymentMethod" class="md-nav__link">
    <span class="md-ellipsis">
      PaymentMethod
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Person" class="md-nav__link">
    <span class="md-ellipsis">
      Person
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Plan" class="md-nav__link">
    <span class="md-ellipsis">
      Plan
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.PlanPlus" class="md-nav__link">
    <span class="md-ellipsis">
      PlanPlus
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Profile" class="md-nav__link">
    <span class="md-ellipsis">
      Profile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Subscription
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.Transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.TransactionEvent" class="md-nav__link">
    <span class="md-ellipsis">
      TransactionEvent
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django_util.models.WiseWebhook" class="md-nav__link">
    <span class="md-ellipsis">
      WiseWebhook
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relation" class="md-nav__link">
    <span class="md-ellipsis">
      Relation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#payment-vs-transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Payment vs Transaction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactionstate-vs-transaction_eventchoice_type" class="md-nav__link">
    <span class="md-ellipsis">
      transaction.state vs transaction_event.choice_type
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactionamount-vs-planprice-vs-subscriptionprorated_amount-vs-coupondiscount_value" class="md-nav__link">
    <span class="md-ellipsis">
      transaction.amount vs plan.price vs subscription.prorated_amount vs coupon.discount_value
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="models">Models</h1>


<div class="doc doc-object doc-module">



<a id="django_util.models"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="django_util.models.Base" class="doc doc-heading">
            <code>Base</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract base model with metadata and user tracking.</p>
<p>Provides created/updated timestamps, user tracking, notes and verification.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Base.created_at">created_at</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp of creation</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Base.updated_at">updated_at</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp of last update</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Base.created_by">created_by</span></code></td>
            <td>
                  <code><span title="django.contrib.auth.models.User">User</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>User who created the record</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Base.updated_by">updated_by</span></code></td>
            <td>
                  <code><span title="django.contrib.auth.models.User">User</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>User who last updated the record</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Base.note">note</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Upper case text field for notes</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Base.is_admin_verified">is_admin_verified</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether verified by admin</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="references" open>
  <summary>References</summary>
  <ul>
<li>https://docs.djangoproject.com/en/3.0/topics/db/models/#abstract-base-classes</li>
<li>https://dataedo.com/kb/data-glossary/what-is-metadata</li>
<li>https://docs.djangoproject.com/en/3.1/topics/class-based-views/generic-editing/#models-and-request-user</li>
</ul>
</details>





              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Base</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract base model with metadata and user tracking.</span>

<span class="sd">    Provides created/updated timestamps, user tracking, notes and verification.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        created_at (datetime): Timestamp of creation</span>
<span class="sd">        updated_at (datetime): Timestamp of last update</span>
<span class="sd">        created_by (User): User who created the record</span>
<span class="sd">        updated_by (User): User who last updated the record</span>
<span class="sd">        note (str): Upper case text field for notes</span>
<span class="sd">        is_admin_verified (bool): Whether verified by admin</span>

<span class="sd">    References:</span>
<span class="sd">        - https://docs.djangoproject.com/en/3.0/topics/db/models/#abstract-base-classes</span>
<span class="sd">        - https://dataedo.com/kb/data-glossary/what-is-metadata</span>
<span class="sd">        - https://docs.djangoproject.com/en/3.1/topics/class-based-views/generic-editing/#models-and-request-user</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">created_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">auto_now_add</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">updated_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">auto_now</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">created_by</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="s2">&quot;PROFILE_MODEL&quot;</span><span class="p">,</span> <span class="s2">&quot;auth.User&quot;</span><span class="p">),</span>
        <span class="n">editable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">,</span>
        <span class="n">related_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(class)s</span><span class="s2">_created_by&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">updated_by</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="s2">&quot;PROFILE_MODEL&quot;</span><span class="p">,</span> <span class="s2">&quot;auth.User&quot;</span><span class="p">),</span>
        <span class="n">editable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SET_NULL</span><span class="p">,</span>
        <span class="n">related_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(class)s</span><span class="s2">_updated_by&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">note</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">is_admin_verified</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">editable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_base_meta_field_list</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="s2">&quot;created_at&quot;</span><span class="p">,</span>
                <span class="s2">&quot;updated_at&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_extra_meta_field_list</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="s2">&quot;created_by&quot;</span><span class="p">,</span>
                <span class="s2">&quot;updated_by&quot;</span><span class="p">,</span>
                <span class="s2">&quot;note&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_admin_verified&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_field_list</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">field</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_fields</span><span class="p">()])</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_field_list_without_extra_meta</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_field_list</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_extra_meta_field_list</span><span class="p">()))</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_field_list_without_meta</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span>
                <span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_field_list</span><span class="p">())</span>
                <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_base_meta_field_list</span><span class="p">())</span>
                <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">get_extra_meta_field_list</span><span class="p">())</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_related_field_list</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">field_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_fields</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">related_fields</span><span class="p">):</span>
                <span class="n">field_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">field_list</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_complex_field_list</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">field_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_fields</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">complex_fields</span><span class="p">):</span>
                <span class="n">field_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">field_list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.BasePublicContribute" class="doc doc-heading">
            <code>BasePublicContribute</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="django_util.models.Base" href="#django_util.models.Base">Base</a></code></p>


        <p>Enhanced base model for publicly editable data.</p>
<p>Extends Base model with verification and visibility controls.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.BasePublicContribute.is_verified">is_verified</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the entry has been verified</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.BasePublicContribute.is_hidden">is_hidden</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether the entry should be hidden from public view</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BasePublicContribute</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enhanced base model for publicly editable data.</span>

<span class="sd">    Extends Base model with verification and visibility controls.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        is_verified (bool): Whether the entry has been verified</span>
<span class="sd">        is_hidden (bool): Whether the entry should be hidden from public view</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">is_verified</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">is_hidden</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_staff_only_field_list</span><span class="p">():</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="s2">&quot;is_hidden&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_verified&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.CardPayment" class="doc doc-heading">
            <code>CardPayment</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="django_util.models.PaymentMethod" href="#django_util.models.PaymentMethod">PaymentMethod</a></code></p>


        <p>Abstract model for card payment methods.</p>
<p>Extends PaymentMethod with card-specific fields.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.CardPayment.card_number">card_number</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Card number</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.CardPayment.card_expiry">card_expiry</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Card expiration date</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.CardPayment.card_cvv">card_cvv</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Card security code</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span>
<span class="normal">995</span>
<span class="normal">996</span>
<span class="normal">997</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CardPayment</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for card payment methods.</span>

<span class="sd">    Extends PaymentMethod with card-specific fields.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        card_number (str): Card number</span>
<span class="sd">        card_expiry (datetime): Card expiration date</span>
<span class="sd">        card_cvv (str): Card security code</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">card_number</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">card_expiry</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">card_cvv</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.Coupon" class="doc doc-heading">
            <code>Coupon</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for discount coupons.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Coupon.code">code</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Coupon code</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Coupon.discount_type">discount_type</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of discount (flat or percentage)</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Coupon.discount_value">discount_value</span></code></td>
            <td>
                  <code>Decimal</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Amount of discount</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Coupon.expiry_date">expiry_date</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When coupon expires</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Coupon.usage_limit">usage_limit</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum number of uses</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Coupon</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for discount coupons.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        code (str): Coupon code</span>
<span class="sd">        discount_type (str): Type of discount (flat or percentage)</span>
<span class="sd">        discount_value (Decimal): Amount of discount</span>
<span class="sd">        expiry_date (datetime): When coupon expires</span>
<span class="sd">        usage_limit (int): Maximum number of uses</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">code</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">discount_type</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">FlatOrPercentChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">FlatOrPercentChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">discount_value</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">max_digits</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span>
        <span class="n">decimal_places</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">expiry_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">usage_limit</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.DataExtractProgress" class="doc doc-heading">
            <code>DataExtractProgress</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Track and manage API data extraction operations.</p>
<p>This model tracks the progress of data extraction from external APIs,
including request tracking, response logging, and output file management.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataExtractProgress.api_request">api_request</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>API request configuration containing:
- endpoint: API endpoint URL
- headers: Request headers
- params: Query parameters</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataExtractProgress.progress_log">progress_log</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Structured log containing:
- requests: List of API requests made
- errors: List of request errors
- error: Terminal error message if failed</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataExtractProgress.filepath">filepath</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path where extracted data will be stored</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataExtractProgress.status">status</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Current status of extraction process</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataExtractProgress.total_requests">total_requests</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Total number of API requests planned</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataExtractProgress.completed_requests">completed_requests</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of API requests completed</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>progress = DataExtractProgress.objects.create(
    api_request={'endpoint': 'api.example.com/users'},
    filepath='/data/api_extract.json',
    total_requests=100
)</p>
<p>try:
    progress.mark_as_started()
    for page in range(10):
        response = make_api_request(page=page)
        progress.log_request('users', {'page': page}, response.status_code)
        progress.update_progress(page + 1)
    progress.mark_as_completed()
except Exception as e:
    progress.mark_as_failed(str(e))</p>
</details>





              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DataExtractProgress</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Track and manage API data extraction operations.</span>

<span class="sd">    This model tracks the progress of data extraction from external APIs,</span>
<span class="sd">    including request tracking, response logging, and output file management.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        api_request (dict): API request configuration containing:</span>
<span class="sd">            - endpoint: API endpoint URL</span>
<span class="sd">            - headers: Request headers</span>
<span class="sd">            - params: Query parameters</span>
<span class="sd">        progress_log (dict): Structured log containing:</span>
<span class="sd">            - requests: List of API requests made</span>
<span class="sd">            - errors: List of request errors</span>
<span class="sd">            - error: Terminal error message if failed</span>
<span class="sd">        filepath (str): Path where extracted data will be stored</span>
<span class="sd">        status (str): Current status of extraction process</span>
<span class="sd">        total_requests (int): Total number of API requests planned</span>
<span class="sd">        completed_requests (int): Number of API requests completed</span>

<span class="sd">    Example:</span>
<span class="sd">        progress = DataExtractProgress.objects.create(</span>
<span class="sd">            api_request={&#39;endpoint&#39;: &#39;api.example.com/users&#39;},</span>
<span class="sd">            filepath=&#39;/data/api_extract.json&#39;,</span>
<span class="sd">            total_requests=100</span>
<span class="sd">        )</span>

<span class="sd">        try:</span>
<span class="sd">            progress.mark_as_started()</span>
<span class="sd">            for page in range(10):</span>
<span class="sd">                response = make_api_request(page=page)</span>
<span class="sd">                progress.log_request(&#39;users&#39;, {&#39;page&#39;: page}, response.status_code)</span>
<span class="sd">                progress.update_progress(page + 1)</span>
<span class="sd">            progress.mark_as_completed()</span>
<span class="sd">        except Exception as e:</span>
<span class="sd">            progress.mark_as_failed(str(e))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">api_request</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">JSONField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;API request parameters and configuration&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">progress_log</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">JSONField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Detailed log of the extraction process&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FilePathField</span><span class="p">(</span>
        <span class="n">path</span><span class="o">=</span><span class="p">[</span><span class="n">settings</span><span class="o">.</span><span class="n">BASE_DIR</span><span class="p">],</span>
        <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Path where extracted data will be stored. Must be under the project&#39;s data directory.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">PENDING</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Current status of the extraction process&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">total_requests</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">MinValueValidator</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Total number of API requests to be made&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">completed_requests</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">MinValueValidator</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Number of API requests completed&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get_progress_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the current progress as a percentage.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Percentage of completion from 0.0 to 100.0</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; progress.total_requests = 50</span>
<span class="sd">            &gt;&gt;&gt; progress.completed_requests = 25</span>
<span class="sd">            &gt;&gt;&gt; progress.get_progress_percentage()</span>
<span class="sd">            50.0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_requests</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.0</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">completed_requests</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_requests</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mark_as_started</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark the extraction as started and save.</span>

<span class="sd">        Updates status to IN_PROGRESS and saves the model.</span>
<span class="sd">        Should be called before making the first API request.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">IN_PROGRESS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">mark_as_completed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark the extraction as successfully completed.</span>

<span class="sd">        Updates status to COMPLETED and saves the model.</span>
<span class="sd">        Should be called after all API requests are completed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">COMPLETED</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">mark_as_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark the extraction as failed with an error message.</span>

<span class="sd">        Args:</span>
<span class="sd">            error_message (str): Description of what caused the failure</span>

<span class="sd">        Note:</span>
<span class="sd">            This will update both the status and add the error message</span>
<span class="sd">            to the progress_log.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">FAILED</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">error_message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">log_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">response_status</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Log an API request with its response status.</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint (str): API endpoint called</span>
<span class="sd">            params (dict): Request parameters used</span>
<span class="sd">            response_status (int): HTTP status code received</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; progress.log_request(</span>
<span class="sd">            ...     &#39;users&#39;,</span>
<span class="sd">            ...     {&#39;page&#39;: 1, &#39;limit&#39;: 100},</span>
<span class="sd">            ...     200</span>
<span class="sd">            ... )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;requests&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;requests&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;requests&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="n">endpoint</span><span class="p">,</span>
                <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="n">params</span><span class="p">,</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="n">response_status</span><span class="p">,</span>
                <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">completed_count</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the number of completed API requests.</span>

<span class="sd">        Args:</span>
<span class="sd">            completed_count (int): New total of completed requests</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; for i, batch in enumerate(request_batches):</span>
<span class="sd">            ...     make_api_request(batch)</span>
<span class="sd">            ...     progress.update_progress(i + 1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">completed_requests</span> <span class="o">=</span> <span class="n">completed_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;completed_requests&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataExtractProgress.get_progress_percentage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_progress_percentage</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Calculate the current progress as a percentage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Percentage of completion from 0.0 to 100.0</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>progress.total_requests = 50
progress.completed_requests = 25
progress.get_progress_percentage()
50.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_progress_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the current progress as a percentage.</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: Percentage of completion from 0.0 to 100.0</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; progress.total_requests = 50</span>
<span class="sd">        &gt;&gt;&gt; progress.completed_requests = 25</span>
<span class="sd">        &gt;&gt;&gt; progress.get_progress_percentage()</span>
<span class="sd">        50.0</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_requests</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.0</span>
    <span class="k">return</span> <span class="nb">round</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">completed_requests</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_requests</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataExtractProgress.log_request" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_request</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">response_status</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Log an API request with its response status.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>endpoint</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>API endpoint called</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>params</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Request parameters used</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>response_status</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>HTTP status code received</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>progress.log_request(
...     'users',
...     {'page': 1, 'limit': 100},
...     200
... )</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">log_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">response_status</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Log an API request with its response status.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint (str): API endpoint called</span>
<span class="sd">        params (dict): Request parameters used</span>
<span class="sd">        response_status (int): HTTP status code received</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; progress.log_request(</span>
<span class="sd">        ...     &#39;users&#39;,</span>
<span class="sd">        ...     {&#39;page&#39;: 1, &#39;limit&#39;: 100},</span>
<span class="sd">        ...     200</span>
<span class="sd">        ... )</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;requests&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;requests&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;requests&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;endpoint&quot;</span><span class="p">:</span> <span class="n">endpoint</span><span class="p">,</span>
            <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="n">params</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="n">response_status</span><span class="p">,</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataExtractProgress.mark_as_completed" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mark_as_completed</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Mark the extraction as successfully completed.</p>
<p>Updates status to COMPLETED and saves the model.
Should be called after all API requests are completed.</p>

            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mark_as_completed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mark the extraction as successfully completed.</span>

<span class="sd">    Updates status to COMPLETED and saves the model.</span>
<span class="sd">    Should be called after all API requests are completed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">COMPLETED</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataExtractProgress.mark_as_failed" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mark_as_failed</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Mark the extraction as failed with an error message.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>error_message</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Description of what caused the failure</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>This will update both the status and add the error message
to the progress_log.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mark_as_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mark the extraction as failed with an error message.</span>

<span class="sd">    Args:</span>
<span class="sd">        error_message (str): Description of what caused the failure</span>

<span class="sd">    Note:</span>
<span class="sd">        This will update both the status and add the error message</span>
<span class="sd">        to the progress_log.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">FAILED</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">error_message</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataExtractProgress.mark_as_started" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mark_as_started</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Mark the extraction as started and save.</p>
<p>Updates status to IN_PROGRESS and saves the model.
Should be called before making the first API request.</p>

            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mark_as_started</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mark the extraction as started and save.</span>

<span class="sd">    Updates status to IN_PROGRESS and saves the model.</span>
<span class="sd">    Should be called before making the first API request.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">IN_PROGRESS</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataExtractProgress.update_progress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_progress</span><span class="p">(</span><span class="n">completed_count</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Update the number of completed API requests.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>completed_count</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New total of completed requests</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>for i, batch in enumerate(request_batches):
...     make_api_request(batch)
...     progress.update_progress(i + 1)</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">completed_count</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the number of completed API requests.</span>

<span class="sd">    Args:</span>
<span class="sd">        completed_count (int): New total of completed requests</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; for i, batch in enumerate(request_batches):</span>
<span class="sd">        ...     make_api_request(batch)</span>
<span class="sd">        ...     progress.update_progress(i + 1)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">completed_requests</span> <span class="o">=</span> <span class="n">completed_count</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;completed_requests&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.DataImportProgress" class="doc doc-heading">
            <code>DataImportProgress</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Track and manage data import operations progress.</p>
<p>This model tracks the progress of data import operations, including file handling,
row processing, and detailed logging of the import process. It provides methods
for updating progress and logging various events during the import.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataImportProgress.filepath">filepath</span></code></td>
            <td>
                  <code>FilePathField</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the import data file</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataImportProgress.if_exists">if_exists</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Strategy for handling existing data conflicts</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataImportProgress.status">status</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Current status of the import process</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataImportProgress.total_rows">total_rows</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Total number of rows to be processed</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataImportProgress.processed_rows">processed_rows</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of rows successfully processed</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.DataImportProgress.progress_log">progress_log</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Structured log containing:
- steps: List of processing steps with timestamps
- errors: List of encountered errors with context
- error: Terminal error message if failed</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>progress = DataImportProgress.objects.create(
    filepath='/data/users.csv',
    if_exists=DataImportStrategy.FAIL,
    total_rows=1000
)</p>
<p>try:
    progress.mark_as_started()
    progress.log_step("validation", "Validating CSV format")
    # ... import logic ...
    progress.update_progress(50)  # Update after processing rows
    progress.mark_as_completed()
except Exception as e:
    progress.mark_as_failed(str(e))</p>
</details>





              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DataImportProgress</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Track and manage data import operations progress.</span>

<span class="sd">    This model tracks the progress of data import operations, including file handling,</span>
<span class="sd">    row processing, and detailed logging of the import process. It provides methods</span>
<span class="sd">    for updating progress and logging various events during the import.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        filepath (FilePathField): Path to the import data file</span>
<span class="sd">        if_exists (str): Strategy for handling existing data conflicts</span>
<span class="sd">        status (str): Current status of the import process</span>
<span class="sd">        total_rows (int): Total number of rows to be processed</span>
<span class="sd">        processed_rows (int): Number of rows successfully processed</span>
<span class="sd">        progress_log (dict): Structured log containing:</span>
<span class="sd">            - steps: List of processing steps with timestamps</span>
<span class="sd">            - errors: List of encountered errors with context</span>
<span class="sd">            - error: Terminal error message if failed</span>

<span class="sd">    Example:</span>
<span class="sd">        progress = DataImportProgress.objects.create(</span>
<span class="sd">            filepath=&#39;/data/users.csv&#39;,</span>
<span class="sd">            if_exists=DataImportStrategy.FAIL,</span>
<span class="sd">            total_rows=1000</span>
<span class="sd">        )</span>

<span class="sd">        try:</span>
<span class="sd">            progress.mark_as_started()</span>
<span class="sd">            progress.log_step(&quot;validation&quot;, &quot;Validating CSV format&quot;)</span>
<span class="sd">            # ... import logic ...</span>
<span class="sd">            progress.update_progress(50)  # Update after processing rows</span>
<span class="sd">            progress.mark_as_completed()</span>
<span class="sd">        except Exception as e:</span>
<span class="sd">            progress.mark_as_failed(str(e))</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">filepath</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FilePathField</span><span class="p">(</span>
        <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Path to the file containing import data. Must be under the project&#39;s data directory.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">if_exists</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">DataImportStrategy</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">DataImportStrategy</span><span class="o">.</span><span class="n">FAIL</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Strategy to handle existing data&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">PENDING</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Current status of the import process&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">total_rows</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">MinValueValidator</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Total number of rows to be processed&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">processed_rows</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveIntegerField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">MinValueValidator</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Number of rows processed so far&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">progress_log</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">JSONField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="s2">&quot;Detailed log of the import process&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get_progress_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the current progress as a percentage.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Percentage of completion from 0.0 to 100.0</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; progress.total_rows = 200</span>
<span class="sd">            &gt;&gt;&gt; progress.processed_rows = 50</span>
<span class="sd">            &gt;&gt;&gt; progress.get_progress_percentage()</span>
<span class="sd">            25.0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_rows</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.0</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">processed_rows</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_rows</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mark_as_started</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark the import as started and save.</span>

<span class="sd">        Updates status to IN_PROGRESS and saves the model.</span>
<span class="sd">        Should be called before beginning the import process.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">IN_PROGRESS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">mark_as_completed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark the import as successfully completed.</span>

<span class="sd">        Updates status to COMPLETED and saves the model.</span>
<span class="sd">        Should be called after all rows are processed successfully.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">COMPLETED</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">mark_as_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark the import as failed with an error message.</span>

<span class="sd">        Args:</span>
<span class="sd">            error_message (str): Description of what caused the failure</span>

<span class="sd">        Note:</span>
<span class="sd">            This will update both the status and add the error message</span>
<span class="sd">            to the progress_log.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">FAILED</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">error_message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">log_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Log a processing step with timestamp.</span>

<span class="sd">        Args:</span>
<span class="sd">            step (str): Name or identifier of the processing step</span>
<span class="sd">            message (str): Description of what was done</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; progress.log_step(&quot;validation&quot;, &quot;Checking CSV headers&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;steps&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">,</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">message</span><span class="p">,</span>
                <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">log_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">additional_info</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Log a non-terminal error with context.</span>

<span class="sd">        Args:</span>
<span class="sd">            step (str): Step where error occurred</span>
<span class="sd">            error (str): Error message or description</span>
<span class="sd">            **additional_info: Additional context as keyword arguments</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; progress.log_error(</span>
<span class="sd">            ...     &quot;row_processing&quot;,</span>
<span class="sd">            ...     &quot;Invalid date format&quot;,</span>
<span class="sd">            ...     row_number=45,</span>
<span class="sd">            ...     column=&quot;birth_date&quot;</span>
<span class="sd">            ... )</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;errors&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;errors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">error_log</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">,</span>
            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">),</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="o">**</span><span class="n">additional_info</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;errors&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error_log</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">processed_count</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the number of processed rows.</span>

<span class="sd">        Args:</span>
<span class="sd">            processed_count (int): New total of processed rows</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; for i, row in enumerate(data):</span>
<span class="sd">            ...     process_row(row)</span>
<span class="sd">            ...     progress.update_progress(i + 1)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">processed_rows</span> <span class="o">=</span> <span class="n">processed_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;processed_rows&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataImportProgress.get_progress_percentage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_progress_percentage</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Calculate the current progress as a percentage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Percentage of completion from 0.0 to 100.0</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>progress.total_rows = 200
progress.processed_rows = 50
progress.get_progress_percentage()
25.0</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_progress_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the current progress as a percentage.</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: Percentage of completion from 0.0 to 100.0</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; progress.total_rows = 200</span>
<span class="sd">        &gt;&gt;&gt; progress.processed_rows = 50</span>
<span class="sd">        &gt;&gt;&gt; progress.get_progress_percentage()</span>
<span class="sd">        25.0</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_rows</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.0</span>
    <span class="k">return</span> <span class="nb">round</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">processed_rows</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_rows</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataImportProgress.log_error" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_error</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="o">**</span><span class="n">additional_info</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Log a non-terminal error with context.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Step where error occurred</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>error</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Error message or description</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**additional_info</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional context as keyword arguments</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>progress.log_error(
...     "row_processing",
...     "Invalid date format",
...     row_number=45,
...     column="birth_date"
... )</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">log_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">additional_info</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Log a non-terminal error with context.</span>

<span class="sd">    Args:</span>
<span class="sd">        step (str): Step where error occurred</span>
<span class="sd">        error (str): Error message or description</span>
<span class="sd">        **additional_info: Additional context as keyword arguments</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; progress.log_error(</span>
<span class="sd">        ...     &quot;row_processing&quot;,</span>
<span class="sd">        ...     &quot;Invalid date format&quot;,</span>
<span class="sd">        ...     row_number=45,</span>
<span class="sd">        ...     column=&quot;birth_date&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;errors&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;errors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">error_log</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">,</span>
        <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">),</span>
        <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
        <span class="o">**</span><span class="n">additional_info</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;errors&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error_log</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataImportProgress.log_step" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log_step</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Log a processing step with timestamp.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>step</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name or identifier of the processing step</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>message</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Description of what was done</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>progress.log_step("validation", "Checking CSV headers")</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">log_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Log a processing step with timestamp.</span>

<span class="sd">    Args:</span>
<span class="sd">        step (str): Name or identifier of the processing step</span>
<span class="sd">        message (str): Description of what was done</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; progress.log_step(&quot;validation&quot;, &quot;Checking CSV headers&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;steps&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;steps&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="n">step</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">message</span><span class="p">,</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
        <span class="p">}</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataImportProgress.mark_as_completed" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mark_as_completed</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Mark the import as successfully completed.</p>
<p>Updates status to COMPLETED and saves the model.
Should be called after all rows are processed successfully.</p>

            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mark_as_completed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mark the import as successfully completed.</span>

<span class="sd">    Updates status to COMPLETED and saves the model.</span>
<span class="sd">    Should be called after all rows are processed successfully.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">COMPLETED</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataImportProgress.mark_as_failed" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mark_as_failed</span><span class="p">(</span><span class="n">error_message</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Mark the import as failed with an error message.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>error_message</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Description of what caused the failure</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>This will update both the status and add the error message
to the progress_log.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mark_as_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mark the import as failed with an error message.</span>

<span class="sd">    Args:</span>
<span class="sd">        error_message (str): Description of what caused the failure</span>

<span class="sd">    Note:</span>
<span class="sd">        This will update both the status and add the error message</span>
<span class="sd">        to the progress_log.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">FAILED</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_log</span><span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">error_message</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;progress_log&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataImportProgress.mark_as_started" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mark_as_started</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Mark the import as started and save.</p>
<p>Updates status to IN_PROGRESS and saves the model.
Should be called before beginning the import process.</p>

            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mark_as_started</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mark the import as started and save.</span>

<span class="sd">    Updates status to IN_PROGRESS and saves the model.</span>
<span class="sd">    Should be called before beginning the import process.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">TaskStatusChoices</span><span class="o">.</span><span class="n">IN_PROGRESS</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="django_util.models.DataImportProgress.update_progress" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_progress</span><span class="p">(</span><span class="n">processed_count</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Update the number of processed rows.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>processed_count</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>New total of processed rows</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>for i, row in enumerate(data):
...     process_row(row)
...     progress.update_progress(i + 1)</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>django_util/models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">processed_count</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the number of processed rows.</span>

<span class="sd">    Args:</span>
<span class="sd">        processed_count (int): New total of processed rows</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; for i, row in enumerate(data):</span>
<span class="sd">        ...     process_row(row)</span>
<span class="sd">        ...     progress.update_progress(i + 1)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">processed_rows</span> <span class="o">=</span> <span class="n">processed_count</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">update_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;processed_rows&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.EmailHttpRequest" class="doc doc-heading">
            <code>EmailHttpRequest</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for storing email and HTTP request data.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.EmailHttpRequest.email">email</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Email address with database index</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.EmailHttpRequest.campaign">campaign</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Upper case campaign identifier</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.EmailHttpRequest.http_referrer">http_referrer</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>HTTP referrer URL</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.EmailHttpRequest.http_user_agent">http_user_agent</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>User agent string</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.EmailHttpRequest.remote_addr">remote_addr</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>IP address of requester</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.EmailHttpRequest.remote_host">remote_host</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Hostname of requester</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">EmailHttpRequest</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for storing email and HTTP request data.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        email (str): Email address with database index</span>
<span class="sd">        campaign (str): Upper case campaign identifier</span>
<span class="sd">        http_referrer (str): HTTP referrer URL</span>
<span class="sd">        http_user_agent (str): User agent string</span>
<span class="sd">        remote_addr (str): IP address of requester</span>
<span class="sd">        remote_host (str): Hostname of requester</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">email</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span>
        <span class="n">db_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">campaign</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">http_referrer</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">http_user_agent</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">remote_addr</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">GenericIPAddressField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">remote_host</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.FullCalendarEventParseV6" class="doc doc-heading">
            <code>FullCalendarEventParseV6</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for FullCalendar v6 event data.</p>
<p>Stores all fields needed for FullCalendar event parsing and display.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.group_id">group_id</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Event group identifier</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.all_day">all_day</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether event is all-day</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.start">start</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Event start time</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.end">end</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Event end time</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.days_of_week">days_of_week</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Days when event repeats</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.start_time">start_time</span></code></td>
            <td>
                  <code>time</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Start time for recurring events</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.end_time">end_time</span></code></td>
            <td>
                  <code>time</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>End time for recurring events</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.start_recur">start_recur</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Recurrence start date</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.end_recur">end_recur</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Recurrence end date</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.title">title</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Event title</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.url">url</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Associated URL</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.interactive">interactive</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether event is interactive</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.class_name">class_name</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>CSS classes to apply</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.editable">editable</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether event is editable</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.start_editable">start_editable</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether start time is editable</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.duration_editable">duration_editable</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether duration is editable</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.resource_editable">resource_editable</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether resource is editable</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.resource_id">resource_id</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Associated resource ID</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.resource_ids">resource_ids</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiple associated resource IDs</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.display">display</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Display mode</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.overlap">overlap</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether event can overlap</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.constraint">constraint</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Event constraints</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.FullCalendarEventParseV6.color">color</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Event color</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="references" open>
  <summary>References</summary>
  <p>https://fullcalendar.io/docs/v6/event-parsing</p>
</details>





              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">FullCalendarEventParseV6</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for FullCalendar v6 event data.</span>

<span class="sd">    Stores all fields needed for FullCalendar event parsing and display.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        group_id (str): Event group identifier</span>
<span class="sd">        all_day (bool): Whether event is all-day</span>
<span class="sd">        start (datetime): Event start time</span>
<span class="sd">        end (datetime): Event end time</span>
<span class="sd">        days_of_week (list): Days when event repeats</span>
<span class="sd">        start_time (time): Start time for recurring events</span>
<span class="sd">        end_time (time): End time for recurring events</span>
<span class="sd">        start_recur (datetime): Recurrence start date</span>
<span class="sd">        end_recur (datetime): Recurrence end date</span>
<span class="sd">        title (str): Event title</span>
<span class="sd">        url (str): Associated URL</span>
<span class="sd">        interactive (bool): Whether event is interactive</span>
<span class="sd">        class_name (list): CSS classes to apply</span>
<span class="sd">        editable (bool): Whether event is editable</span>
<span class="sd">        start_editable (bool): Whether start time is editable</span>
<span class="sd">        duration_editable (bool): Whether duration is editable</span>
<span class="sd">        resource_editable (bool): Whether resource is editable</span>
<span class="sd">        resource_id (str): Associated resource ID</span>
<span class="sd">        resource_ids (list): Multiple associated resource IDs</span>
<span class="sd">        display (str): Display mode</span>
<span class="sd">        overlap (bool): Whether event can overlap</span>
<span class="sd">        constraint (bool): Event constraints</span>
<span class="sd">        color (bool): Event color</span>

<span class="sd">    References:</span>
<span class="sd">        https://fullcalendar.io/docs/v6/event-parsing</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">group_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">all_day</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">days_of_week</span> <span class="o">=</span> <span class="n">ArrayField</span><span class="p">(</span>
        <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(),</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">end_time</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">start_recur</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">end_recur</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">URLField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">interactive</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">class_name</span> <span class="o">=</span> <span class="n">ArrayField</span><span class="p">(</span>
        <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(),</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">editable</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">start_editable</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">duration_editable</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">resource_editable</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">resource_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">resource_ids</span> <span class="o">=</span> <span class="n">ArrayField</span><span class="p">(</span>
        <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(),</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">display</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">overlap</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">constraint</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.PaymentMethod" class="doc doc-heading">
            <code>PaymentMethod</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for payment methods.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.PaymentMethod.choice_type">choice_type</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of payment method</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.PaymentMethod.billing_address">billing_address</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Associated billing address</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PaymentMethod</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for payment methods.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        choice_type (str): Type of payment method</span>
<span class="sd">        billing_address (str): Associated billing address</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">choice_type</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">PaymentMethodTypeChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">PaymentMethodTypeChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">billing_address</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Relation</span>
    <span class="c1"># profile = models.ForeignKey</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.Person" class="doc doc-heading">
            <code>Person</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for storing person information.</p>
<p>Stores comprehensive personal information including names, physical characteristics,
and biographical data.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.uuid">uuid</span></code></td>
            <td>
                  <code>UUID</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique identifier</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.english_first_name">english_first_name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First name in English</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.english_middle_name">english_middle_name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Middle name in English</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.english_last_name">english_last_name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Last name in English</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.native_first_name">native_first_name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First name in native language</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.native_middle_name">native_middle_name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Middle name in native language</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.native_last_name">native_last_name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Last name in native language</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.alias">alias</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of alternative names</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.description">description</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>General description</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.birth_date">birth_date</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Date of birth</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.death_date">death_date</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Date of death</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.blood_type">blood_type</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Blood type</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.eye_color">eye_color</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Eye color</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.gender">gender</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gender identity</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.race">race</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Racial identity</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Person.height">height</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Height in units</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="references" open>
  <summary>References</summary>
  <p>https://schema.org/Person</p>
</details>





              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for storing person information.</span>

<span class="sd">    Stores comprehensive personal information including names, physical characteristics,</span>
<span class="sd">    and biographical data.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        uuid (UUID): Unique identifier</span>
<span class="sd">        english_first_name (str): First name in English</span>
<span class="sd">        english_middle_name (str): Middle name in English</span>
<span class="sd">        english_last_name (str): Last name in English</span>
<span class="sd">        native_first_name (str): First name in native language</span>
<span class="sd">        native_middle_name (str): Middle name in native language</span>
<span class="sd">        native_last_name (str): Last name in native language</span>
<span class="sd">        alias (list): List of alternative names</span>
<span class="sd">        description (str): General description</span>
<span class="sd">        birth_date (datetime): Date of birth</span>
<span class="sd">        death_date (datetime): Date of death</span>
<span class="sd">        blood_type (str): Blood type</span>
<span class="sd">        eye_color (str): Eye color</span>
<span class="sd">        gender (str): Gender identity</span>
<span class="sd">        race (str): Racial identity</span>
<span class="sd">        height (int): Height in units</span>

<span class="sd">    References:</span>
<span class="sd">        https://schema.org/Person</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">uuid</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UUIDField</span><span class="p">(</span>
        <span class="n">db_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">,</span>
        <span class="n">editable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">english_first_name</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">english_middle_name</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">english_last_name</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">native_first_name</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">native_middle_name</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">native_last_name</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="n">ArrayField</span><span class="p">(</span>
        <span class="n">UpperTextField</span><span class="p">(),</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># biology</span>
    <span class="n">birth_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">death_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">blood_type</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">PersonBloodChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">PersonBloodChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">eye_color</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">PersonEyeColorChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">PersonEyeColorChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">PersonGenderChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">PersonGenderChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">race</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">PersonRaceChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">PersonRaceChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveSmallIntegerField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">MinValueValidator</span><span class="p">(</span><span class="mi">1</span><span class="p">)],</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.Plan" class="doc doc-heading">
            <code>Plan</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for subscription plans.</p>
<p>Defines features, pricing, and billing cycle for subscriptions.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Plan.name">name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plan name</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Plan.description">description</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plan description</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Plan.price">price</span></code></td>
            <td>
                  <code>Decimal</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plan price</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Plan.currency">currency</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter currency code</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Plan.billing_cycle">billing_cycle</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of billing</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Plan.feature">feature</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of plan features</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Plan</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for subscription plans.</span>

<span class="sd">    Defines features, pricing, and billing cycle for subscriptions.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name (str): Plan name</span>
<span class="sd">        description (str): Plan description</span>
<span class="sd">        price (Decimal): Plan price</span>
<span class="sd">        currency (str): 3-letter currency code</span>
<span class="sd">        billing_cycle (str): Frequency of billing</span>
<span class="sd">        feature (list): List of plan features</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">price</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">max_digits</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span>
        <span class="n">decimal_places</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">currency</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">billing_cycle</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">TimeFrequencyChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">TimeFrequencyChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">feature</span> <span class="o">=</span> <span class="n">ArrayField</span><span class="p">(</span>
        <span class="n">UpperTextField</span><span class="p">(),</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.PlanPlus" class="doc doc-heading">
            <code>PlanPlus</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="django_util.models.Plan" href="#django_util.models.Plan">Plan</a></code></p>


        <p>Enhanced subscription plan model.</p>
<p>Extends Plan with additional features.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.PlanPlus.trial_period">trial_period</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Length of trial period</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.PlanPlus.discount_eligible">discount_eligible</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether plan can be discounted</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PlanPlus</span><span class="p">(</span><span class="n">Plan</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enhanced subscription plan model.</span>

<span class="sd">    Extends Plan with additional features.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        trial_period (int): Length of trial period</span>
<span class="sd">        discount_eligible (bool): Whether plan can be discounted</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">trial_period</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">discount_eligible</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.Profile" class="doc doc-heading">
            <code>Profile</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract profile model that extends Django User model.</p>
<p>Provides one-to-one relationship with Django's built-in User model.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Profile.user">user</span></code></td>
            <td>
                  <code><span title="django.contrib.auth.models.User">User</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>One-to-one relationship to Django User model.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="references" open>
  <summary>References</summary>
  <p>https://simpleisbetterthancomplex.com/tutorial/2016/07/22/how-to-extend-django-user-model.html#onetoone</p>
</details>





              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Profile</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract profile model that extends Django User model.</span>

<span class="sd">    Provides one-to-one relationship with Django&#39;s built-in User model.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        user (User): One-to-one relationship to Django User model.</span>

<span class="sd">    References:</span>
<span class="sd">        https://simpleisbetterthancomplex.com/tutorial/2016/07/22/how-to-extend-django-user-model.html#onetoone</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span>
        <span class="n">User</span><span class="p">,</span>
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.Subscription" class="doc doc-heading">
            <code>Subscription</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for active subscriptions.</p>
<p>Tracks customer subscription status and billing details.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Subscription.start_date">start_date</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When subscription begins</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Subscription.end_date">end_date</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When subscription ends</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Subscription.next_billing_date">next_billing_date</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Next payment due date</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Subscription.prorated_amount">prorated_amount</span></code></td>
            <td>
                  <code>Decimal</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Prorated charge amount</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Subscription.is_active">is_active</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether subscription is currently active</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Subscription</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for active subscriptions.</span>

<span class="sd">    Tracks customer subscription status and billing details.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        start_date (datetime): When subscription begins</span>
<span class="sd">        end_date (datetime): When subscription ends</span>
<span class="sd">        next_billing_date (datetime): Next payment due date</span>
<span class="sd">        prorated_amount (Decimal): Prorated charge amount</span>
<span class="sd">        is_active (bool): Whether subscription is currently active</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">start_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">end_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">next_billing_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">prorated_amount</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">max_digits</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span>
        <span class="n">decimal_places</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">is_active</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Relation</span>
    <span class="c1"># coupon = models.ForeignKey</span>
    <span class="c1"># plan = models.ForeignKey</span>
    <span class="c1"># profile = models.ForeignKey</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.Transaction" class="doc doc-heading">
            <code>Transaction</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for monetary transactions.</p>
<p>Records monetary exchanges related to subscriptions including payments and refunds.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Transaction.amount">amount</span></code></td>
            <td>
                  <code>Decimal</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Total monetary value including taxes, fees etc</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Transaction.currency">currency</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3-letter currency code</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Transaction.choice_type">choice_type</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of transaction</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Transaction.data">data</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional transaction data</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Transaction.state">state</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Current transaction state</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.Transaction.transaction_date">transaction_date</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When transaction occurred</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>Transaction Amount includes total value with all fees and adjustments.
Transaction Price refers to base price before additional charges.</p>
</details>





              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Transaction</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for monetary transactions.</span>

<span class="sd">    Records monetary exchanges related to subscriptions including payments and refunds.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        amount (Decimal): Total monetary value including taxes, fees etc</span>
<span class="sd">        currency (str): 3-letter currency code</span>
<span class="sd">        choice_type (str): Type of transaction</span>
<span class="sd">        data (dict): Additional transaction data</span>
<span class="sd">        state (str): Current transaction state</span>
<span class="sd">        transaction_date (datetime): When transaction occurred</span>

<span class="sd">    Notes:</span>
<span class="sd">        Transaction Amount includes total value with all fees and adjustments.</span>
<span class="sd">        Transaction Price refers to base price before additional charges.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">amount</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">max_digits</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span>
        <span class="n">decimal_places</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">currency</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">choice_type</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">TransactionTypeChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">TransactionTypeChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">JSONField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">TransactionStateChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">TransactionStateChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">transaction_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Relation</span>
    <span class="c1"># payment_method = models.ForeignKey</span>
    <span class="c1"># subscription = models.ForeignKey</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.TransactionEvent" class="doc doc-heading">
            <code>TransactionEvent</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for transaction lifecycle events.</p>
<p>Records specific actions or state changes within a transaction's lifecycle.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.TransactionEvent.choice_type">choice_type</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of event</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.TransactionEvent.description">description</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Event description</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.TransactionEvent.data">data</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional event data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TransactionEvent</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for transaction lifecycle events.</span>

<span class="sd">    Records specific actions or state changes within a transaction&#39;s lifecycle.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        choice_type (str): Type of event</span>
<span class="sd">        description (str): Event description</span>
<span class="sd">        data (dict): Additional event data</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">choice_type</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="n">TransactionEventTypeChoices</span><span class="o">.</span><span class="n">choices</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">TransactionEventTypeChoices</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">UpperTextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">JSONField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Relation</span>
    <span class="c1"># transaction = models.ForeignKey</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="django_util.models.WiseWebhook" class="doc doc-heading">
            <code>WiseWebhook</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>


        <p>Abstract model for Wise webhook data.</p>
<p>Stores webhook payload data from Wise payment service.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.WiseWebhook.data">data</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Webhook payload data</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.WiseWebhook.subscription_id">subscription_id</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Subscription identifier</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.WiseWebhook.event_type">event_type</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of webhook event</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.WiseWebhook.schema_version">schema_version</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Version of webhook schema</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="django_util.models.WiseWebhook.sent_at">sent_at</span></code></td>
            <td>
                  <code>datetime</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When webhook was sent</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="references" open>
  <summary>References</summary>
  <p>https://docs.wise.com/api-docs/api-reference/webhook</p>
</details>





              <details class="quote">
                <summary>Source code in <code>django_util/models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">WiseWebhook</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract model for Wise webhook data.</span>

<span class="sd">    Stores webhook payload data from Wise payment service.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data (dict): Webhook payload data</span>
<span class="sd">        subscription_id (str): Subscription identifier</span>
<span class="sd">        event_type (str): Type of webhook event</span>
<span class="sd">        schema_version (str): Version of webhook schema</span>
<span class="sd">        sent_at (datetime): When webhook was sent</span>

<span class="sd">    References:</span>
<span class="sd">        https://docs.wise.com/api-docs/api-reference/webhook</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">JSONField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">subscription_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">event_type</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">schema_version</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">sent_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="relation">Relation</h2>
<table>
<thead>
<tr>
<th>source</th>
<th>relation</th>
<th>target</th>
</tr>
</thead>
<tbody>
<tr>
<td>User</td>
<td>1-n</td>
<td>Payment Method</td>
</tr>
<tr>
<td>User</td>
<td>1-n</td>
<td>Subscription</td>
</tr>
<tr>
<td>Plan</td>
<td>1-n</td>
<td>Subscription</td>
</tr>
<tr>
<td>Coupon</td>
<td>n-n</td>
<td>Subscription</td>
</tr>
<tr>
<td>Subscription</td>
<td>1-n</td>
<td>Transaction</td>
</tr>
<tr>
<td>Transaction</td>
<td>1-n</td>
<td>Transaction Event</td>
</tr>
</tbody>
</table>
<h2 id="payment-vs-transaction">Payment vs Transaction</h2>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Payment</th>
<th>Transaction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Focus</td>
<td>Exchange of value</td>
<td>Record of exchange</td>
</tr>
<tr>
<td>Scope</td>
<td>Narrower (specific exchange)</td>
<td>Broader (includes payment, but also other exchanges)</td>
</tr>
<tr>
<td>Examples</td>
<td>Cash, credit card, digital wallet</td>
<td>Purchase, sale, refund, transfer</td>
</tr>
</tbody>
</table>
<p>A payment is the action of exchanging value, while a transaction is the record of that action and its associated details.</p>
<h2 id="transactionstate-vs-transaction_eventchoice_type">transaction.state vs transaction_event.choice_type</h2>
<p><code>transactions.state</code></p>
<ul>
<li>Represents the overall state of the transaction.</li>
<li>Provides a high-level summary of the transaction's lifecycle.</li>
<li>Typically has a limited set of values (e.g., pending, completed, failed, canceled).</li>
<li>Is relatively static once set, although it might be updated in specific circumstances (e.g., from pending to failed).</li>
</ul>
<p><code>transaction_event.choice_type</code></p>
<ul>
<li>Records specific actions or changes that occur during the transaction's lifecycle.</li>
<li>Provides a detailed history of the transaction's progression.</li>
<li>Can have a wider range of values (e.g., created, authorized, captured, refunded, disputed).</li>
<li>Represents dynamic events that can occur multiple times for a single transaction.</li>
</ul>
<p>Think of <code>transactions.state</code> as a snapshot of the transaction's current state, while <code>transaction_event.choice_type</code> is a record of the individual steps taken to reach that state.</p>
<p><strong>Example</strong></p>
<p>A transaction's state might be "completed".
The <code>transaction_event</code> for that transaction might include events like "created", "authorized", and "captured".</p>
<h2 id="transactionamount-vs-planprice-vs-subscriptionprorated_amount-vs-coupondiscount_value">transaction.amount vs plan.price vs subscription.prorated_amount vs coupon.discount_value</h2>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>transaction.amount</code></td>
<td>Actual amount charged or refunded for a transaction</td>
</tr>
<tr>
<td><code>plan.price</code></td>
<td>Base price of a subscription plan</td>
</tr>
<tr>
<td><code>subscription.prorated_amount</code></td>
<td>Adjusted amount for a subscription change</td>
</tr>
<tr>
<td><code>coupon.discount_value</code></td>
<td>Amount or percentage of the discount offered by a coupon</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>A user has a subscription with a <code>plan.price</code> of $100.</p>
<p>They use a coupon with a discount_value of 20%.</p>
<p>The discount amount is calculated as $100 x 20% = $20.</p>
<p>The <code>transaction.amount</code> becomes $100 - $20 = $80.</p>
<p>If the user upgrades to a plan with a <code>plan.price</code> of $150 mid-month, a <code>subscription.prorated_amount</code> of $75 might be calculated for the remaining half of the month, and the <code>transaction.amount</code> for the upgrade would be $150 + $75 = $225.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>